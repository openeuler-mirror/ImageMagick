From 460dea07066e2001bc4671fcd8d53233f0fc29b3 Mon Sep 17 00:00:00 2001
From: Cristy <urban-warrior@imagemagick.org>
Date: Sat, 5 Oct 2019 09:53:19 -0400
Subject: [PATCH] https://github.com/ImageMagick/ImageMagick/issues/1720

---
 magick/quantize.c | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

diff --git a/magick/quantize.c b/magick/quantize.c
index d4c841b68..fb0646661 100644
--- a/magick/quantize.c
+++ b/magick/quantize.c
@@ -3212,16 +3212,17 @@ extern "C" {
 
 static int IntensityCompare(const void *x,const void *y)
 {
-  double
-    intensity;
-
   PixelPacket
     *color_1,
     *color_2;
 
+  ssize_t
+    intensity;
+
   color_1=(PixelPacket *) x;
   color_2=(PixelPacket *) y;
-  intensity=PixelPacketIntensity(color_1)-PixelPacketIntensity(color_2);
+  intensity=(ssize_t) (PixelPacketIntensity(color_1)-
+    PixelPacketIntensity(color_2));
   return((int) intensity);
 }
 
